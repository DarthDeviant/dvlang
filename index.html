<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fixed Dotted Borders</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .desktop {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .movable {
      position: absolute;
      cursor: grab;
    }

    .movable img {
      display: block;
      width: 100%;
      height: auto;
    }

    .dotted-border {
      position: absolute;
      border: 2px dotted black;
      pointer-events: none;
      display: none; /* Initially hidden */
    }
  </style>
</head>
<body>
  <div class="desktop">
    <!-- Yellow Folder -->
    <div class="movable" id="yellow-folder" style="top: 20%; left: 30%; width: 8vw;">
      <img src="yellow-image.jpg" alt="Yellow Folder">
      <div class="dotted-border"></div>
    </div>

    <!-- Gray Folder -->
    <div class="movable" id="gray-folder" style="top: 20%; left: 70%; width: 8vw;">
      <img src="gray-image.jpg" alt="Gray Folder">
      <div class="dotted-border"></div>
    </div>

    <!-- Center Image -->
    <div class="movable" id="center-image" style="top: 50%; left: 50%; width: 18vw; transform: translate(-50%, -50%);">
      <img src="center-image.jpg" alt="Center Image">
      <div class="dotted-border"></div>
    </div>
  </div>

  <script>
    const movableElements = document.querySelectorAll('.movable');

    movableElements.forEach((element) => {
      const border = element.querySelector('.dotted-border');
      const img = element.querySelector('img');

      // Function to update the border's position and size
      const updateBorder = () => {
        const rect = img.getBoundingClientRect();
        border.style.width = `${rect.width}px`;
        border.style.height = `${rect.height}px`;
        border.style.top = `${rect.top + window.scrollY}px`;
        border.style.left = `${rect.left + window.scrollX}px`;
      };

      // Add dragging functionality
      element.addEventListener('mousedown', (e) => {
        e.preventDefault();
        border.style.display = 'block'; // Show the border

        let offsetX = e.clientX - element.getBoundingClientRect().left;
        let offsetY = e.clientY - element.getBoundingClientRect().top;

        const moveAt = (e) => {
          const newX = e.clientX - offsetX;
          const newY = e.clientY - offsetY;

          element.style.left = `${newX}px`;
          element.style.top = `${newY}px`;

          // Update the border's position
          updateBorder();
        };

        const stopDragging = () => {
          border.style.display = 'none'; // Hide the border
          document.removeEventListener('mousemove', moveAt);
          document.removeEventListener('mouseup', stopDragging);
        };

        document.addEventListener('mousemove', moveAt);
        document.addEventListener('mouseup', stopDragging);
      });

      // Ensure borders are positioned correctly when the page loads
      window.addEventListener('load', updateBorder);
      window.addEventListener('resize', updateBorder); // Recalculate on window resize
    });
  </script>
</body>
</html>
